<div class="row">
	<div class="col-sm-4">
		<table class="table table-striped">
		  <tbody>
		  <tr>
		    <td>
		      <span># of Storey:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="nStorey" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="nStorey = $event" />
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span># of Column:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="nColumn" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="nColumn = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Span Length:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="spanLength | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="spanLength = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Storey Height:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="stoHeight | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="stoHeight = $event" />
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Storey Shear:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="stoShear | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="stoShear = $event"/>
		    </td>
		  </tr>
		  </tbody>
		  
		</table>
	</div>
	<div class="col-sm-4">
		<table class="table table-striped">
		  <tbody>
		  <tr>
		    <td>
		      <span>Girder Width:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="gWidth | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="gWidth = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Girder Height:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="gHeight | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="gHeight = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Moment of Inertia:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" readonly [(ngModel)]="gmoiValue" />
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Base Factor:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" readonly [ngModel]="gbfValue | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}"/>
		    </td>
		  </tr>
		  </tbody>
		</table>
	</div>
	<div class="col-sm-4">
		<table class="table table-striped">
		  <tbody>
		  <tr>
		    <td>
		      <span>Column Width:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="cWidth | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="cWidth = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Column Height:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" [ngModel]="cHeight | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="cHeight = $event"/>
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Moment of Inertia:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" readonly [(ngModel)]="cmoiValue" />
		    </td>
		  </tr>
		  <tr>
		    <td>
		      <span>Base Factor:</span>
		    </td>
		    <td>
		      <input type="number" class="text-right" readonly [ngModel]="cbfValue | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}"/>
		    </td>
		  </tr>
		  </tbody>
		</table>
	</div>
</div>
<div style="margin-bottom: 3em;">
<input style="float: right;" type="button" value="Re-Calculate" class="btn btn-sm btn-primary" (click)="reCalculate();"/>
<input style="float: right; margin-right: 5px;" type="button" value="Generate Diagram" class="btn btn-sm btn-primary" (click)="compute();"/>
<button (click)="alert();">Check Values</button>
</div>
<hr/>
<div class="row" style="margin-bottom: 5px;">
	<div class="col-sm-2">
	</div>
	<div class="col-sm" style="text-align: center !important; border-bottom: 1px solid green;">
		<div style="text-align: center !important; width: 100%;">
			<!-- <app-column *ngFor="let cs of columnS" [value]="cs"></app-column> -->
			<div *ngFor="let cs of columnS; let i = index; trackBy:trackByFn" class="single-box"><span class="left">Span Length : <input type="text" [ngModel]="columnS[i] | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="columnS[i] = $event" class="center-input"/>m</span></div>
			<!-- <div *ngFor="let cll of columnL" class="single-box"><span class="left">Span Length : <input type="text" value="{{cll.toFixed(2)}}" class="center-input"/>m</span></div> -->
		</div>
	</div>
	<div class="col-sm-2">
	</div>
</div>

<div class="row" style="padding-top: 1em;">
	<div class="col-sm-2">
		<div *ngFor="let sts of storeyS; let i = index; trackBy:trackByFn" class="single-box-left">
			<span class="left">Storey Shear: <input type="text" [ngModel]="storeyS[i] | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="storeyS[i] = $event"  class="left-input"/>kN</span> 
		</div>
	</div>
	<div class="col-sm" style="text-align: center; border-left: 1px solid green; border-right: 1px solid green;">
		<div *ngFor="let spec of (dSpec | slice:dSpec.length-(dSpec.length-1)); let first = first; let x = index; let bottom = last;" style=";width: 100%;">
			<app-box *ngFor="let label of spec.slice(0,spec.length-1); let last = last; let i = index;" [isBottom]="bottom" [labelTopEnd]="first&&last?dSpec[0][spec.length-1]:''" [labelEnd]="last?dSpec[x+1][spec.length-1]:''" [labelTop]="first?dSpec[0][i]:''" [label]="label" [isTop]="first" [isEnd]="last"></app-box>
		</div>
	</div>
	<div class="col-sm-2">
		<div *ngFor="let sth of storeyH; let i = index; trackBy:trackByFn" class="single-box-right">
			<span class="right">Storey Height: <input type="text" [ngModel]="storeyH[i] | number:'1.2-2'" [ngModelOptions]="{updateOn:'blur'}" (ngModelChange)="storeyH[i] = $event" class="left-input"/>m</span>
		</div>
	</div>
</div>
<hr/>
<div class="row">
	<div class="col-sm-4" style="border: 1px solid #f1f1f1">
		<table class="table table-striped">
			<thead>
			    <tr>
				    <th colspan="2" style="text-align: center;">Column Stiffness</th>
				</tr>
			</thead>
		    <tbody>
			    <tr *ngFor="let cStiff of cStiffness; let i = index;">
			        <td>
			          <span>{{ i == 0 ? 'Base' : ('Storey #' + i) }}</span>
			        </td>
			        <td>
			          <input type="number" class="text-right" [ngModel]="cStiff" readonly />
			        </td>
			    </tr>
		    </tbody>
		</table>
	</div>
	<div class="col-sm-4" style="border: 1px solid #f1f1f1">
		<table class="table table-striped">
			<thead>
			    <tr>
				    <th colspan="4" style="text-align: center;">Girder Stiffness(k)</th>
				</tr>
			</thead>
			<ng-container *ngFor="let gStiff of gStiffnessRow; let i = index; let last = last;">
				<thead>
				    <tr>
					    <th colspan="4" style="text-align: center;">{{ last ? 'Roof Deck' : '#' + (i+2) + ' Floor'}}</th>
					</tr>
				</thead>
			    <tbody>
				    <tr *ngFor="let rec of gStiff;" style="text-align: center;">
				       	<td>
				          <p style="text-align: right !important; font-weight: 500;">{{ rec.column }}</p>
				        </td>
				        <td>
				        	<p class="text-center" style="font-weight: 300;">{{ rec.stiffNess | number:'1.3-3' }}</p>
				        </td>
						<td>
				          <p style="text-align: right !important; font-weight: 500;">{{ rec.revColumn }}</p>
				        </td>
				        <td>
				        	<p class="text-center" style="font-weight: 300;">{{ rec.revStiffNess | number:'1.3-3' }}</p>
				        </td>
				    </tr>
			    </tbody>
		    </ng-container>
		</table>
	</div>
	<div class="col-sm-4" style="border: 1px solid #f1f1f1">
		<table class="table table-striped">
			<thead>
			    <tr>
				    <th colspan="5" style="text-align: center;">Girder Factors(g)</th>
				</tr>
			</thead>
			<ng-container *ngFor="let gFactor of gFactorsRow; let i = index; let first = first; let last = last;">
				<thead>
				    <tr>
					    <th colspan="4" style="text-align: center;">{{ first ? 'Base' : (last ? 'Roof Deck' :'#' + (i+1) + ' Floor')}}</th>
					</tr>
					<tr>
					    <th colspan="1" style="text-align: center; vertical-align: middle; font-weight: 500;">Joint</th>
					    <th colspan="1" style="text-align: center; vertical-align: middle; font-weight: 500;">Column Stiffness at Joint(k)</th>
					    <th colspan="1" style="text-align: center; vertical-align: middle; font-weight: 500;">Girder Factor(g)</th>
					    <th colspan="1" style="text-align: center; vertical-align: middle; font-weight: 500;">Column Factor(c)</th>
					</tr>
				</thead>
			    <tbody>
				    <tr *ngFor="let rec of gFactor;" style="text-align: center;">
				        <ng-container>
						       	<td>
						          	<p style="text-align: right !important; font-weight: 500;">{{ rec.joint }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ rec.csj | number:'1.3-3' }}</p>
						        </td>
						        <td>
						       		<p class="text-center" style="font-weight: 300;">{{ rec.gf | number:'1.3-3' }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ rec.cf | number:'1.3-3' }}</p>
						        </td>
				    	</ng-container>
				    </tr>
			    </tbody>
		    </ng-container>
		</table>
	</div>
</div>
<hr/>
<div class="row">
	<div class="col-sm-6" style="border: 1px solid #f1f1f1">
		<table class="table table-striped">
			<thead>
			    <tr>
				    <th colspan="9" style="text-align: center;">COLUMN MOMENT</th>
				</tr>
				<tr>
				    <th colspan="1" class="td-lg"></th>
				    <th colspan="1" class="td-lg"></th>
				    <th colspan="1" class="td-lg">1</th>
				    <th colspan="1" class="td-lg">2</th>
				    <th colspan="1" class="td-lg">3</th>
				    <th colspan="1" class="td-lg">4</th>
				    <th colspan="1" class="td-lg">5</th>
				    <th colspan="1" class="td-lg">6</th>
				    <th colspan="1" class="td-lg">7</th>
				</tr>
				<tr>
				    <th colspan="1" class="td-lg">Storey</th>
				    <th colspan="1" class="td-lg">Column</th>
				    <th colspan="1" class="td-lg">c</th>
				    <th colspan="1" class="td-lg">0.5c-opp</th>
				    <th colspan="1" class="td-lg">1+2</th>
				    <th colspan="1" class="td-lg">k</th>
				    <th colspan="1" class="td-lg">CMF</th>
				    <th colspan="1" class="td-lg">SC</th>
				    <th colspan="1" class="td-lg">CM</th>
				</tr>
			</thead>
			<ng-container *ngFor="let colM of colMRow; let i = index; let first = first; let last = last;">
				<thead *ngIf="!first">
				    <tr>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					    <th colspan="1" class="td-lg" style="font-weight: 300;">------</th>
					</tr>
				</thead>
			    <tbody>
				    <tr *ngFor="let rec of colM; let recFirst = first; let x = index; let recLast = last; let c = count;" style="text-align: center;">
				        <ng-container>
						       	<td [rowSpan]="c" style="vertical-align: middle;" *ngIf="recFirst">
						          	<p style="font-weight: 300; text-align:center;">{{ i == 0 ? 'Ground Storey' : 'Storey #' + (i+1) }}</p>
						        </td>
						        <td>
						          	<p style="font-weight: 500;">{{ rec.column }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ rec.cf | number:'1.3-3' }}</p>
						        </td>
						        <td>
						       		<p class="text-center" style="font-weight: 300;">{{ (.5*rec.oppCf) | number:'1.3-3' }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ (rec.cf + (.5*rec.oppCf)) | number:'1.3-3' }}</p>
						        </td>
						        <td>
						          	<p class="text-center" style="font-weight: 300;">{{ 0 | number:'1.3-3' }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ 0 | number:'1.3-3' }}</p>
						        </td>
						        <td>
						       		<p class="text-center" style="font-weight: 300;">{{ 0 | number:'1.3-3' }}</p>
						        </td>
						        <td>
						        	<p class="text-center" style="font-weight: 300;">{{ 0 | number:'1.3-3' }}</p>
						        </td>
				    	</ng-container>
				    </tr>
			    </tbody>
		    </ng-container>
		</table>
	</div>
</div>
<button (click)="alert();">Check Values</button>
<hr/>